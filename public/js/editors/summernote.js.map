{"version":3,"file":"/js/editors/summernote.js","mappings":"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","sources":["webpack:///./resources/assets/js/editors/summernote.js"],"sourcesContent":["var summernoteConfig;\nvar advancedRequest = false;\n\n$(document).ready(function () {\n    summernoteConfig = $('#summernote-config');\n    if (summernoteConfig.length > 0) {\n        window.initSummernote();\n    }\n});\n\n/**\n * Initialize summernote when available\n */\nwindow.initSummernote = function() {\n    const $summernote = $('.html-editor').summernote({\n        height: '300px',\n        maximumImageFileSize: parseInt(summernoteConfig.data('filesize')) * 1024,\n        lang: editorLang(summernoteConfig.data('locale')),\n        hintSelect: 'next',\n        placeholder: summernoteConfig.data('placeholder'),\n        dialogsInBody: summernoteConfig.data('dialogs') === 1,\n        toolbar: [\n            ['style', ['style']],\n            ['font', ['bold', 'italic', 'underline', 'strikethrough', 'clear']],\n            ['color', ['color']],\n            ['kanka', ['aroba', (summernoteConfig.data('bragi') !== undefined ? 'bragi' : null)]],\n            ['para', ['ul', 'ol', 'kanka-indent', 'kanka-outdent', 'paragraph']],\n            ['table', ['table', 'spoiler', 'tableofcontent']],\n            ['insert', ['link', 'picture', 'video', 'embed', 'hr']],\n            //['dir', ['ltr', 'rtl']],\n            ['view', ['fullscreen', 'codeview', 'prettify', 'help']],\n            (summernoteConfig.data('gallery') !== '' ? ['extensions', ['summernoteGallery']] : null),\n        ],\n\n        popover: {\n            table: [\n                ['add', ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']],\n                ['delete', ['deleteRow', 'deleteCol', 'deleteTable']],\n                ['custom', ['tableHeaders']],\n                ['custom', ['tableStyles']]\n            ],\n            image: [\n                ['image', ['resizeFull', 'resizeHalf', 'resizeQuarter', 'resizeNone']],\n                ['float', ['floatLeft', 'floatRight', 'floatNone']],\n                ['remove', ['removeMedia']],\n                ['custom', ['imageAttributes']],\n            ],\n        },\n        callbacks: {\n            onImageUpload: function (files) {\n                uploadImage($summernote, files[0]);\n            },\n            onChange: function() {\n                window.entityFormHasUnsavedChanges = true;\n            },\n            onChangeCodeview: function(contents, $editable) {\n                $(this).summernote('code', contents);\n            },\n            /*onBlur: function() {\n                console.log('blury');\n            },*/\n        },\n        summernoteGallery: {\n            source: {\n                // data: [],\n                url: summernoteConfig.data('gallery'),\n                responseDataKey: 'data',\n                nextPageKey: 'links.next',\n            },\n            modal: {\n                loadOnScroll: true,\n                maxHeight: 350,\n                title: summernoteConfig.data('gallery-title'),\n                close_text: summernoteConfig.data('gallery-close'),\n                ok_text: summernoteConfig.data('gallery-add'),\n                selectAll_text: summernoteConfig.data('gallery-select-all'),\n                deselectAll_text: summernoteConfig.data('gallery-deselect-all'),\n                noImageSelected_msg: summernoteConfig.data('gallery-error'),\n            }\n        },\n        bragi: {\n            source: {\n                url: summernoteConfig.data('bragi'),\n            },\n            buttonLabel: '<i class=\"fa-brands fa-pied-piper-hat\"></i>',\n        },\n        hint: [\n            {\n                match: /\\B@(\\S*)$/,\n                search: function (keyword, callback) {\n                    if (keyword.length < 3) {\n                        return [];\n                    }\n                    return hintEntities(keyword, callback);\n                },\n                template: function (item) {\n                    return hintTemplate(item);\n                },\n                content: function (item) {\n                    advancedRequest = false;\n                    return hintContent(item);\n                }\n            },\n            {\n                match: /\\B\\[(\\S[^:]*)$/,\n                search: function (keyword, callback) {\n                    if (keyword.length < 3) {\n                        return [];\n                    }\n                    return hintEntities(keyword, callback);\n                },\n                template: function (item) {\n                    return hintTemplate(item);\n                },\n                content: function (item) {\n                    advancedRequest = true;\n                    return hintContent(item);\n                }\n            },\n            {\n                match: /\\B\\#(\\S*)$/,\n                search: function (keyword, callback) {\n                    return hintMonths(keyword, callback);\n                },\n                template: function (item) {\n                    return hintTemplate(item);\n                },\n                content: function (item) {\n                    advancedRequest = false;\n                    return hintContent(item);\n                }\n            },\n            {\n                match: /\\B{(\\S[^:]*)$/,\n                search: function (keyword, callback) {\n                    return attributeSearch(keyword, callback);\n                },\n                template: function (item) {\n                    return attributeTemplate(item);\n                },\n                content: function (item) {\n                    return attributeContent(item);\n                }\n            },\n        ],\n        keyMap: {\n            pc: {\n                'ESC': 'escape',\n                'ENTER': 'insertParagraph',\n                'CTRL+Z': 'undo',\n                'CTRL+Y': 'redo',\n                'TAB': 'tab',\n                'SHIFT+TAB': 'untab',\n                'CTRL+B': 'bold',\n                'CTRL+I': 'italic',\n                'CTRL+U': 'underline',\n                'CTRL+SHIFT+I': 'strikethrough',\n                'CTRL+BACKSLASH': 'removeFormat',\n                'CTRL+SHIFT+L': 'justifyLeft',\n                'CTRL+SHIFT+E': 'justifyCenter',\n                'CTRL+SHIFT+R': 'justifyRight',\n                'CTRL+SHIFT+J': 'justifyFull',\n                'CTRL+SHIFT+NUM7': 'insertUnorderedList',\n                'CTRL+SHIFT+NUM8': 'insertOrderedList',\n                'CTRL+LEFTBRACKET': 'outdent',\n                'CTRL+RIGHTBRACKET': 'indent',\n                'CTRL+NUM0': 'formatPara',\n                'CTRL+NUM1': 'formatH1',\n                'CTRL+NUM2': 'formatH2',\n                'CTRL+NUM3': 'formatH3',\n                'CTRL+NUM4': 'formatH4',\n                'CTRL+NUM5': 'formatH5',\n                'CTRL+NUM6': 'formatH6',\n                'CTRL+ENTER': 'insertHorizontalRule',\n                'CTRL+K': 'linkDialog.show',\n            },\n\n            mac: {\n                'ESC': 'escape',\n                'ENTER': 'insertParagraph',\n                'CMD+Z': 'undo',\n                'CMD+SHIFT+Z': 'redo',\n                'TAB': 'tab',\n                'SHIFT+TAB': 'untab',\n                'CMD+B': 'bold',\n                'CMD+I': 'italic',\n                'CMD+U': 'underline',\n                'CMD+SHIFT+I': 'strikethrough',\n                'CMD+BACKSLASH': 'removeFormat',\n                'CMD+SHIFT+L': 'justifyLeft',\n                'CMD+SHIFT+E': 'justifyCenter',\n                'CMD+SHIFT+R': 'justifyRight',\n                'CMD+SHIFT+J': 'justifyFull',\n                'CMD+SHIFT+NUM7': 'insertUnorderedList',\n                'CMD+SHIFT+NUM8': 'insertOrderedList',\n                'CMD+LEFTBRACKET': 'outdent',\n                'CMD+RIGHTBRACKET': 'indent',\n                'CMD+NUM0': 'formatPara',\n                'CMD+NUM1': 'formatH1',\n                'CMD+NUM2': 'formatH2',\n                'CMD+NUM3': 'formatH3',\n                'CMD+NUM4': 'formatH4',\n                'CMD+NUM5': 'formatH5',\n                'CMD+NUM6': 'formatH6',\n                'CMD+ENTER': 'insertHorizontalRule',\n                'CMD+K': 'linkDialog.show',\n            },\n        },\n    });\n}\n\n/**\n * Search for entities\n * @param keyword\n * @param callback\n */\nfunction hintEntities(keyword, callback) {\n\n    $.ajax({\n        url: summernoteConfig.data('mention') + '?q=' + keyword + '&new=1',\n        type: 'get',\n        dataType: 'json',\n        async: true\n    })\n        .done(callback)\n        .fail(function (response) {\n            if (response.status === 503) {\n                window.showToast(response.responseJSON.message, 'toast-error');\n            }\n    });\n}\n\n/**\n * Search for months\n * @param keyword\n * @param callback\n */\nfunction hintMonths(keyword, callback) {\n\n    $.ajax({\n        url: summernoteConfig.data('months') + '?q=' + keyword,\n        type: 'get',\n        dataType: 'json',\n        async: true\n    }).done(callback);\n}\n\n/**\n * Search for attributes\n * @param keyword\n * @param callback\n */\nfunction attributeSearch(keyword, callback) {\n    if (!summernoteConfig.data('attributes')) {\n        //console.log('entity not yet created');\n        return false;\n    }\n\n    $.ajax({\n        url: summernoteConfig.data('attributes') + '?q=' + keyword,\n        type: 'get',\n        dataType: 'json',\n        async: true\n    }).done(callback);\n}\n\n/**\n * Hint template (results displayed in dropdown)\n * @param item\n * @returns {string}\n */\nfunction hintTemplate(item) {\n    let type = (item.type ? ' (' + item.type + ')' : '');\n    if (item.image) {\n        return '<div class=\"entity-hint\">' +\n            item.image +\n            '<div class=\"entity-hint-name\">' +\n            item.fullname +\n            type +\n            '</div>' +\n        '</div>';\n\n    }\n    return item.fullname + type;\n}\n\n/**\n * Attribute template\n * @param item\n * @returns {string}\n */\nfunction attributeTemplate(item) {\n    return item.name +  (item.value ? ' (' + item.value + ')' : '');\n}\n\n/**\n * Hint content that is injected in the editor\n * @param item\n * @returns {string|*}\n */\nfunction hintContent(item) {\n    if (item.id) {\n        let mention = '[' + item.model_type + ':' + item.id + item.fullname + ']';\n        let advancedMention = '[' + item.model_type + ':' + item.id + item.advanced_mention + ']';\n        if (item.alias_id) {\n            mention = '[' + item.model_type + ':' + item.id + item.advanced_mention + '|alias:' + item.alias_id + item.advanced_mention_alias + ']';\n            return $('<span>' + mention + '</span>')[0];\n        }\n        if (summernoteConfig.data('advanced-mention')) {\n            return $('<span>' + advancedMention + '</span>')[0];\n        }\n        if (advancedRequest) {\n            return $('<span>' + advancedMention + '</span>')[0];\n        }\n        //console.log('standard');\n        return $('<a />', {\n            text: item.fullname,\n            href: '#',\n            class: 'mention',\n            'data-name': item.fullname,\n            'data-mention': '[' + item.model_type + ':' + item.id + ']',\n        })[0];\n    } else if (item.url) {\n        if (item.tooltip) {\n            return $('<a />', {\n                text: item.fullname,\n                href: item.url,\n                title: item.tooltip.replace(/[\"]/g, '\\''),\n                'data-toggle': 'tooltip',\n                'data-html': 'true',\n            })[0];\n        }\n        return $('<a />', {\n            text: item.fullname,\n            href: item.url,\n        })[0];\n    } else if (item.inject) {\n        return item.inject;\n    }\n    return item.fullname;\n}\n\n/**\n *\n * @param item\n * @returns {jQuery|HTMLElement}\n */\nfunction attributeContent(item)\n{\n    if (summernoteConfig.data('advanced-mention')) {\n        return '{attribute:' + item.id + '}';\n    }\n    return $('<a />', {\n        href: '#',\n        class: 'attribute attribute-mention',\n        text: '{' + item.name + '}',\n        'data-attribute': '{attribute:' + item.id + '}'\n    })[0]\n}\n\n/**\n * Editor locale\n * @param locale\n * @returns {string}\n */\nfunction editorLang(locale) {\n    if (!locale) {\n        return 'en-US';\n    }\n\n    if (locale == 'he') {\n        return 'he-IL';\n    } else if (locale == 'ca') {\n        return 'ca-ES';\n    } else if (locale == 'el') {\n        return 'el-GR';\n    } else if(locale == 'en') {\n        return 'en-US';\n    } else {\n        return locale + '-' + locale.toUpperCase();\n    }\n}\n\n/**\n * Upload a file through summernote\n * @param file\n */\nfunction uploadImage($summernote, file) {\n    let modal = $('#campaign-imageupload-modal');\n    // Check if the campaign is superboosted\n    if (!summernoteConfig.data('gallery-upload')) {\n        modal.modal();\n        console.warn('Campaign isn\\'t superboosted');\n        return;\n    }\n\n    formData = new FormData();\n    formData.append(\"file\", file);\n    formData.append('_token', $('meta[name=\"csrf-token\"]').attr('content'));\n    $.ajax({\n        url: summernoteConfig.data('gallery-upload'),\n        data: formData,\n        cache: false,\n        contentType: false,\n        processData: false,\n        type: 'POST',\n        success: function(result) {\n            //console.log('result', result);\n            $summernote.summernote('insertImage', result, function ($image) {\n                $image.attr('src', result);\n            });\n        },\n        error: function (jqXHR, textStatus, errorThrown) {\n            // Depending on the error, we need to handle the user differently\n            //console.log(textStatus + \" \" + errorThrown);\n            //console.log(jqXHR);\n            let error = $('#campaign-imageupload-error');\n            let boosted = $('#campaign-imageupload-boosted');\n            let permission = $('#campaign-imageupload-permission');\n\n            error.hide();\n            boosted.hide();\n            permission.hide();\n\n            if (jqXHR.status === 422) {\n                error.text(buildErrors(jqXHR.responseJSON.errors)).show();\n            } else if (jqXHR.status === 403) {\n                permission.show();\n            } else {\n                boosted.show();\n            }\n            //$('#superboosted-error').text(buildErrors(jqXHR.responseJSON.errors));\n            modal.modal();\n        }\n    });\n}\n\n/**\n *\n * @param data\n * @returns {string}\n */\nfunction buildErrors(data) {\n    var errors = '';\n    for (var key in data) {\n        // skip loop if the property is from prototype\n        if (!data.hasOwnProperty(key)) continue;\n\n        errors += data[key] + \"\\n\";\n    }\n    return errors;\n}\n"],"names":["summernoteConfig","advancedRequest","hintEntities","keyword","callback","$","ajax","url","data","type","dataType","async","done","fail","response","status","window","showToast","responseJSON","message","hintTemplate","item","image","fullname","hintContent","id","mention","model_type","advancedMention","advanced_mention","alias_id","advanced_mention_alias","text","href","class","tooltip","title","replace","inject","editorLang","locale","toUpperCase","document","ready","length","initSummernote","$summernote","summernote","height","maximumImageFileSize","parseInt","lang","hintSelect","placeholder","dialogsInBody","toolbar","undefined","popover","table","callbacks","onImageUpload","files","file","modal","console","warn","formData","FormData","append","attr","cache","contentType","processData","success","result","$image","error","jqXHR","textStatus","errorThrown","boosted","permission","hide","errors","key","hasOwnProperty","buildErrors","show","uploadImage","onChange","entityFormHasUnsavedChanges","onChangeCodeview","contents","$editable","this","summernoteGallery","source","responseDataKey","nextPageKey","loadOnScroll","maxHeight","close_text","ok_text","selectAll_text","deselectAll_text","noImageSelected_msg","bragi","buttonLabel","hint","match","search","template","content","hintMonths","attributeSearch","name","value","attributeTemplate","attributeContent","keyMap","pc","mac"],"sourceRoot":""}